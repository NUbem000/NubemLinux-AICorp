#!/bin/bash
# Configuración global de NubemLinux-AICorp

# Versión de la distribución
NUBEMLINUX_VERSION="1.0.0"
NUBEMLINUX_CODENAME="AICorp"

# Ubuntu base
UBUNTU_VERSION="22.04.4"
UBUNTU_CODENAME="jammy"
UBUNTU_ISO_URL="https://releases.ubuntu.com/22.04.4/ubuntu-22.04.4-desktop-amd64.iso"
UBUNTU_ISO_SHA256="https://releases.ubuntu.com/22.04.4/SHA256SUMS"

# Directorios
BASE_DIR="/root/NubemLinux-AICorp"
BUILD_DIR="${BASE_DIR}/build"
OUTPUT_DIR="${BASE_DIR}/output"
ASSETS_DIR="${BASE_DIR}/assets"
SCRIPTS_DIR="${BASE_DIR}/scripts"
MODULES_IA_DIR="${BASE_DIR}/modules_ia"
SECURITY_DIR="${BASE_DIR}/security"
UPDATES_DIR="${BASE_DIR}/updates"
TEMP_DIR="${BASE_DIR}/tmp"
LOG_DIR="${BASE_DIR}/logs"

# Archivos de checkpoints
CHECKPOINT_FILE="${BASE_DIR}/.checkpoint"
LOG_FILE="${LOG_DIR}/build-$(date +%Y%m%d-%H%M%S).log"

# Configuración de IA
DEFAULT_AI_MODEL="llama3.1"
FALLBACK_AI_MODEL="llama2"
ENABLE_VOICE=true
ENABLE_IMAGE_PROCESSING=true
ENABLE_CLOUD_FALLBACK=true

# Configuración de recursos
MIN_RAM_GB=4
RECOMMENDED_RAM_GB=8
MIN_DISK_GB=50
RECOMMENDED_DISK_GB=100

# Información corporativa
CORP_NAME="AICorp"
CORP_DOMAIN="aicorp.local"
CORP_SUPPORT_EMAIL="support@aicorp.local"

# Configuración de seguridad
ENABLE_FIREWALL=true
ENABLE_APPARMOR=true
ENABLE_AIDE=true
ENABLE_AUTO_UPDATES=true
UPDATE_SCHEDULE="daily"

# Configuración de red
ENABLE_PROXY=false
PROXY_URL=""
ENABLE_PXE_SERVER=false

# Configuración de construcción
USE_CUBIC=true
CUBIC_PROJECT_NAME="NubemLinux-AICorp"
PARALLEL_JOBS=$(nproc)
ENABLE_VERBOSE_LOGGING=true

# Colores para output
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Función para cargar configuración local si existe
load_local_config() {
    if [ -f "${BASE_DIR}/config.local.env" ]; then
        source "${BASE_DIR}/config.local.env"
    fi
}

# Cargar configuración local
load_local_config